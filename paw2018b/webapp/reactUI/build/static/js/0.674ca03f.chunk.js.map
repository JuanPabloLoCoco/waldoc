{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/process/browser.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/i18next/dist/esm/i18next.js","../node_modules/i18next-browser-languagedetector/dist/esm/i18nextBrowserLanguageDetector.js","../node_modules/@babel/runtime/helpers/esm/objectSpread.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","this","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","Item","array","noop","nextTick","args","arguments","push","apply","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","value","err","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","_inherits","subClass","superClass","create","constructor","_assertThisInitialized","ReferenceError","_typeof2","obj","_typeof","consoleLogger","type","log","output","warn","error","_console","console","baseLogger","Logger","concreteLogger","options","init","prefix","logger","debug","bool","_len","_key","forward","_len2","_key2","_len3","_key3","_len4","_key4","lvl","debugOnly","moduleName","_objectSpread","EventEmitter","observers","events","listener","_this","split","forEach","event","filter","l","cloned","observer","_cloned","defer","res","rej","promise","Promise","resolve","reject","makeString","object","getLastOfPath","path","Empty","cleanKey","indexOf","replace","canNotTraverseDeeper","stack","shift","k","setPath","newValue","_getLastOfPath","getPath","_getLastOfPath3","getPathWithDefaults","data","defaultData","deepExtend","source","overwrite","prop","String","regexEscape","str","_entityMap","escape","s","ResourceStore","_EventEmitter","ns","defaultNS","keySeparator","index","splice","lng","silent","addNamespaces","resources","m","addResource","deep","pack","hasResourceBundle","removeNamespaces","getResource","compatibilityAPI","postProcessor","processors","addPostProcessor","handle","translator","processor","Translator","services","a","t","language","interpolation","resolved","nsSeparator","namespaces","parts","join","keys","_this2","overloadTranslationOptionHandler","_this$extractFromKey","extractFromKey","namespace","appendNamespaceToCIMode","toLowerCase","resUsedKey","usedKey","resExactUsedKey","exactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","copy$$1","newKeyToUse","hasOwnProperty","deepKey","translate","extendTranslation","usedDefault","isValidLookup","defaultValue","count","suffix","pluralResolver","getSuffix","updateMissing","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","missingKeyHandler","backendConnector","saveMissing","needsPluralHandling","saveMissingPlurals","getPluralFormsOfKey","appendNamespaceToMissingKey","parseMissingKeyHandler","_this3","parse","usedLng","usedNS","skipInterpolation","interpolator","defaultVariables","interpolate","nest","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","_this4","extracted","fallbackNS","needsContextHandling","context","codes","utils","hasLoadedNamespace","code","pluralSuffix","possibleKey","finalKey","finalKeys","addLookupKeys","contextSeparator","pop","returnNull","returnEmptyString","resourceStore","capitalize","string","charAt","toUpperCase","slice","LanguageUtil","whitelist","formatLanguageCode","specialCases","lowerCaseLng","map","part","cleanCode","load","nonExplicitWhitelist","getLanguagePartFromCode","fallbacks","getScriptPartFromCode","fallbackCode","fallbackCodes","addCode","c","isWhitelisted","fc","sets","nr","_rulesPluralsTypes","1","n","Number","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","PluralResolver","rules","set","numbers","plurals","createRules","rule","getRule","ret","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","prepend","compatibilityJSON","Interpolator","format","escapeValue","iOpts","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapePrefix","unescapeSuffix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","maxReplaces","resetRegExp","regexpStr","regexp","RegExp","regexpUnescapeStr","regexpUnescape","nestingRegexpStr","nestingRegexp","match","replaces","regexSafe","val","handleFormat","trim","f","missingInterpolationHandler","exec","temp","lastIndex","_temp","clonedOptions","handleHasOptions","inheritedOptions","optionsString","JSON","Connector","backend","store","state","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","_name$split","_name$split2","addResourceBundle","q","_getLastOfPath2","pushPath","what","remove","fcName","tried","wait","read","queueLoad","loadOne","prepareLoading","_this5","_name$split3","_name$split4","fallbackValue","isUpdate","get","initImmediate","preload","pluralSeparator","partialBundledLanguages","tDescription","_format","transformOptions","i18next","I18n","modules","external","isInitialized","isClone","createClassOnDemand","ClassOrObject","lu","bind","languageDetector","detection","storeApi","_this2$store","deferred","changeLanguage","append","setLng","cacheUserLanguage","loadResources","async","detect","fixedT","opts","rest","_this$translator","_this$translator2","exists","_this6","lastLng","loadNotPending","loadState","_this7","preloaded","newLngs","_this8","mergedOptions","clone","membersToCopy","each","defaults","hasLocalStorageSupport","cookie","minutes","domain","expires","date","Date","setTime","getTime","toGMTString","document","nameEQ","ca","substring","cookie$1","lookup","lookupCookie","cookieMinutes","cookieDomain","querystring","window","params","location","search","pos","lookupQuerystring","localStorage","setItem","removeItem","lookupLocalStorage","getItem","navigator$1","navigator","userLanguage","htmlTag","documentElement","getAttribute","pathname","lookupFromPathIndex","subdomain","href","lookupFromSubdomainIndex","Browser","detectors","i18nOptions","order","caches","excludeCacheFor","checkWhitelist","lookupFromUrlIndex","addDetector","detector","detectionOrder","detected","detectorName","cleanedLng","cacheName","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor"],"mappings":"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","file":"static/js/0.674ca03f.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _toConsumableArray from '@babel/runtime/helpers/esm/toConsumableArray';\nimport _slicedToArray from '@babel/runtime/helpers/esm/slicedToArray';\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    var _console;\n\n    /* eslint no-console: 0 */\n    if (console && console[type]) (_console = console)[type].apply(_console, _toConsumableArray(args));\n  }\n};\n\nvar Logger =\n/*#__PURE__*/\nfunction () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\n// http://lea.verou.me/2016/12/resolve-promises-externally-with-this-one-weird-trick/\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  /* eslint prefer-template: 0 */\n\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    object = object[key];\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  } // Fallback to default values\n\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  /* eslint no-restricted-syntax: 0 */\n  for (var prop in source) {\n    if (prop in target) {\n      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch\n      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n        if (overwrite) target[prop] = source[prop];\n      } else {\n        deepExtend(target[prop], source[prop], overwrite);\n      }\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  /* eslint no-useless-escape: 0 */\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n/* eslint-disable */\n\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\n/* eslint-enable */\n\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\n\nvar ResourceStore =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      return getPath(this.data, path);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      /* eslint no-restricted-syntax: 0 */\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS; // COMPATIBILITY: remove extend in v2.1.0\n\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nvar Translator =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        /* eslint prefer-rest-params: 0 */\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {}; // non valid keys handling\n\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)]; // separators\n\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator; // get namespace(s)\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1]; // return key on CIMode\n\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      } // resolve from store\n\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays; // object\n\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, options) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        } // if we got a separator we loop over children - else we just return object as is\n        // as having it set to false means no hierarchy so no lookup for nested values\n\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy$$1 = resTypeIsArray ? [] : {}; // apply child translation on a copy\n\n          /* eslint no-restricted-syntax: 0 */\n\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy$$1[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy$$1[m] === deepKey) copy$$1[m] = res[m]; // if nothing found use orginal value as fallback\n            }\n          }\n\n          res = copy$$1;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        // array special treatment\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options);\n      } else {\n        // string, empty or null\n        var usedDefault = false;\n        var usedKey = false; // fallback value\n\n        if (!this.isValidLookup(res) && options.defaultValue !== undefined) {\n          usedDefault = true;\n\n          if (options.count !== undefined) {\n            var suffix = this.pluralResolver.getSuffix(lng, options.count);\n            res = options[\"defaultValue\".concat(suffix)];\n          }\n\n          if (!res) res = options.defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        } // save missing\n\n\n        var updateMissing = options.defaultValue && options.defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? options.defaultValue : res);\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? options.defaultValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (l) {\n                var plurals = _this2.pluralResolver.getPluralFormsOfKey(l, key);\n\n                plurals.forEach(function (p) {\n                  return send([l], p);\n                });\n              });\n            } else {\n              send(lngs, key);\n            }\n          }\n        } // extend\n\n\n        res = this.extendTranslation(res, keys, options, resolved); // append namespace if still key\n\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key); // parseMissingKeyHandler\n\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      } // return\n\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        // i18next.parsing\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        })); // interpolate\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options); // nesting\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          return _this3.translate.apply(_this3, arguments);\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      } // post process\n\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey; // plain key\n\n      var exactUsedKey; // key with context / plural\n\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys]; // forEach possible key\n\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (_this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for namespace \\\"\").concat(usedNS, \"\\\" won't get resolved as namespace was not yet loaded\"), 'This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count); // fallback for plural if context not found\n\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix); // get key for context if needed\n\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context)); // get key for plural if needed\n\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            } // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only\n\n\n            var possibleKey;\n            /* eslint no-cond-assign: 0 */\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil =\n/*#__PURE__*/\nfunction () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.whitelist || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      // http://www.iana.org/assignments/language-tags/language-tags.xhtml\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase(); // if lenght 2 guess it's a country\n\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || []; // asume we have an object defining fallbacks\n\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this.isWhitelisted(c)) {\n          codes.push(c);\n        } else {\n          _this.logger.warn(\"rejecting non-whitelisted language code: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\n/* eslint-disable */\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n === 1 ? 0 : n === 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n/* eslint-enable */\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver =\n/*#__PURE__*/\nfunction () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var _this = this;\n\n      var ret = [];\n      var rule = this.getRule(code);\n      if (!rule) return ret;\n      rule.numbers.forEach(function (n) {\n        var suffix = _this.getSuffix(code, n);\n\n        ret.push(\"\".concat(key).concat(suffix));\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        // if (rule.numbers.length === 1) return ''; // only singular\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx]; // special treatment for lngs only having singular and plural\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        }; // COMPATIBILITY JSON\n        // v1\n\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (\n        /* v2 */\n        this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (\n        /* v3 - gettext index */\n        this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator =\n/*#__PURE__*/\nfunction () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n  /* eslint no-param-reassign: 0 */\n\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000; // the regexp\n\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      // the regexp\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          return getPathWithDefaults(data, defaultData, key);\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng);\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      replaces = 0; // unescape if has unescapePrefix/Suffix\n\n      /* eslint no-cond-assign: 0 */\n\n      while (match = this.regexpUnescape.exec(str)) {\n        value = handleFormat(match[1].trim());\n\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            var temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else {\n            this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n\n        str = str.replace(match[0], regexSafe(value));\n        this.regexpUnescape.lastIndex = 0;\n        replaces++;\n\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n\n      replaces = 0; // regular escape on demand\n\n      while (match = this.regexp.exec(str)) {\n        value = handleFormat(match[1].trim());\n\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            var _temp = missingInterpolationHandler(str, match, options);\n\n            value = typeof _temp === 'string' ? _temp : '';\n          } else {\n            this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n\n        value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n        replaces++;\n\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup\n\n      delete clonedOptions.defaultValue; // assert we do not get a endless loop on interpolating defaultValue again and again\n      // if value is something like \"myKey\": \"lorem $(anotherKey, { \"count\": {{aValueInOptions}} })\"\n\n      function handleHasOptions(key, inheritedOptions) {\n        if (key.indexOf(',') < 0) return key;\n        var p = key.split(',');\n        key = p.shift();\n        var optionsString = p.join(',');\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.error(\"failed parsing options string in nesting for key \".concat(key), e);\n        } // assert we do not get a endless loop on interpolating defaultValue again and again\n\n\n        delete clonedOptions.defaultValue;\n        return key;\n      } // regular escape on demand\n\n\n      while (match = this.nestingRegexp.exec(str)) {\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions); // is only the nesting key (key1 = '$(key2)') return the value without stringify\n\n        if (value && match[0] === str && typeof value !== 'string') return value; // no string to include or empty\n\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        } // Nested keys should not be escaped by default #854\n        // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);\n\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      // find what needs to be loaded\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2; // loaded\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1; // pending\n\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var _name$split = name.split('|'),\n          _name$split2 = _slicedToArray(_name$split, 2),\n          lng = _name$split2[0],\n          ns = _name$split2[1];\n\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      } // set loaded\n\n\n      this.state[name] = err ? -1 : 2; // consolidated loading done in this run - only emit once for a loaded namespace\n\n      var loaded = {}; // callback if ready\n\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          // only do once per loaded -> this.emit('loaded', q.loaded);\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          /* eslint no-param-reassign: 0 */\n\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      }); // emit consolidated loaded event\n\n      this.emit('loaded', loaded); // remove done load requests\n\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {}); // noting to load\n\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data\n        /* = retryFlag */\n        && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n    /* eslint consistent-return: 0 */\n\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now\n\n        return null; // pendings will trigger callback\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      var _name$split3 = name.split('|'),\n          _name$split4 = _slicedToArray(_name$split3, 2),\n          lng = _name$split4[0],\n          ns = _name$split4[1];\n\n      this.read(lng, ns, 'read', null, null, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" for namespace \\\"\").concat(namespace, \"\\\" as the namespace was not yet loaded\"), 'This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null\n        /* unused callback */\n        , _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      } // write to store to avoid resending\n\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    // string or array of namespaces\n    whitelist: false,\n    // array with whitelisted languages\n    nonExplicitWhitelist: false,\n    load: 'all',\n    // | currentOnly | languageOnly\n    preload: false,\n    // array with preload languages\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    // allow bundling certain languages that are not remotely fetched\n    saveMissing: false,\n    // enable to send missing values\n    updateMissing: false,\n    // enable to update default values if different from translated value (only useful on initial development, or when keeping code as source of truth)\n    saveMissingTo: 'fallback',\n    // 'current' || 'all'\n    saveMissingPlurals: true,\n    // will save all forms not only singular key\n    missingKeyHandler: false,\n    // function(lng, ns, key, fallbackValue) -> override if prefer on handling\n    missingInterpolationHandler: false,\n    // function(str, match)\n    postProcess: false,\n    // string or array of postProcessor names\n    postProcessPassResolved: false,\n    // pass resolved object into 'options.i18nResolved' for postprocessor\n    returnNull: true,\n    // allows null value as valid translation\n    returnEmptyString: true,\n    // allows empty string value as valid translation\n    returnObjects: false,\n    joinArrays: false,\n    // or string to join array\n    returnedObjectHandler: false,\n    // function(key, value, options) triggered if key returns object but returnObjects is set to false\n    parseMissingKeyHandler: false,\n    // function(key) parsed a key that was not found in t() before returning\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      // prefixEscaped: '{{',\n      // suffixEscaped: '}}',\n      // unescapeSuffix: '',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      // nestingPrefixEscaped: '$t(',\n      // nestingSuffixEscaped: ')',\n      // defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data\n      maxReplaces: 1000 // max replaces to prevent endless loop\n\n    }\n  };\n}\n/* eslint no-param-reassign: 0 */\n\nfunction transformOptions(options) {\n  // create namespace object if namespace is passed in as string\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS]; // extend whitelist with cimode\n\n  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n    options.whitelist = options.whitelist.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n    EventEmitter.call(_assertThisInitialized(_this)); // <=IE10 fix (unable to call parent constructor)\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      // https://github.com/i18next/i18next/issues/879\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      } // init services\n\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options); // pipe events from backendConnector\n\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options); // pipe events from translator\n\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      } // append api\n\n\n      var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        _this2.changeLanguage(_this2.options.lng, function (err, t) {\n          _this2.isInitialized = true;\n\n          _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t); // not rejecting on err (as err is only a loading translation failed warning)\n\n          callback(err, t);\n        });\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n    /* eslint consistent-return: 0 */\n\n  }, {\n    key: \"loadResources\",\n    value: function loadResources() {\n      var _this3 = this;\n\n      var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (this.language && this.language.toLowerCase() === 'cimode') return callback(); // avoid loading resources for cimode\n\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!this.language) {\n          // at least load fallbacks in this case\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(this.language);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, callback);\n      } else {\n        callback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve(); // not rejecting on err (as err is only a loading translation failed warning)\n\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        _this4.translator.changeLanguage(l);\n\n        if (l) {\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1]; // we're in cimode so this shall pass\n\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      }; // loaded -> SUCCESS\n\n\n      if (this.hasResourceBundle(lng, ns)) return true; // were not loading at all -> SEMI SUCCESS\n\n      if (!this.services.backendConnector.backend) return true; // failed loading ns - but at least fallback is not pending -> SEMI SUCCESS\n\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      }); // Exit early if all given languages are already preloaded\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n    /* eslint class-methods-use-this: 0 */\n\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options; // sync options\n\n      return clone;\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\n\nexport default i18next;\n","import _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\n\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nfunction defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\n\nvar cookie = {\n  create: function create(name, value, minutes, domain) {\n    var expires;\n\n    if (minutes) {\n      var date = new Date();\n      date.setTime(date.getTime() + minutes * 60 * 1000);\n      expires = '; expires=' + date.toGMTString();\n    } else expires = '';\n\n    domain = domain ? 'domain=' + domain + ';' : '';\n    document.cookie = name + '=' + value + expires + ';' + domain + 'path=/';\n  },\n  read: function read(name) {\n    var nameEQ = name + '=';\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1, c.length);\n      }\n\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  },\n  remove: function remove(name) {\n    this.create(name, '', -1);\n  }\n};\nvar cookie$1 = {\n  name: 'cookie',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      var c = cookie.read(options.lookupCookie);\n      if (c) found = c;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupCookie && typeof document !== 'undefined') {\n      cookie.create(options.lookupCookie, lng, options.cookieMinutes, options.cookieDomain);\n    }\n  }\n};\n\nvar querystring = {\n  name: 'querystring',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var query = window.location.search.substring(1);\n      var params = query.split('&');\n\n      for (var i = 0; i < params.length; i++) {\n        var pos = params[i].indexOf('=');\n\n        if (pos > 0) {\n          var key = params[i].substring(0, pos);\n\n          if (key === options.lookupQuerystring) {\n            found = params[i].substring(pos + 1);\n          }\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nvar hasLocalStorageSupport;\n\ntry {\n  hasLocalStorageSupport = window !== 'undefined' && window.localStorage !== null;\n  var testKey = 'i18next.translate.boo';\n  window.localStorage.setItem(testKey, 'foo');\n  window.localStorage.removeItem(testKey);\n} catch (e) {\n  hasLocalStorageSupport = false;\n}\n\nvar localStorage = {\n  name: 'localStorage',\n  lookup: function lookup(options) {\n    var found;\n\n    if (options.lookupLocalStorage && hasLocalStorageSupport) {\n      var lng = window.localStorage.getItem(options.lookupLocalStorage);\n      if (lng) found = lng;\n    }\n\n    return found;\n  },\n  cacheUserLanguage: function cacheUserLanguage(lng, options) {\n    if (options.lookupLocalStorage && hasLocalStorageSupport) {\n      window.localStorage.setItem(options.lookupLocalStorage, lng);\n    }\n  }\n};\n\nvar navigator$1 = {\n  name: 'navigator',\n  lookup: function lookup(options) {\n    var found = [];\n\n    if (typeof navigator !== 'undefined') {\n      if (navigator.languages) {\n        // chrome only; not an array, so can't use .push.apply instead of iterating\n        for (var i = 0; i < navigator.languages.length; i++) {\n          found.push(navigator.languages[i]);\n        }\n      }\n\n      if (navigator.userLanguage) {\n        found.push(navigator.userLanguage);\n      }\n\n      if (navigator.language) {\n        found.push(navigator.language);\n      }\n    }\n\n    return found.length > 0 ? found : undefined;\n  }\n};\n\nvar htmlTag = {\n  name: 'htmlTag',\n  lookup: function lookup(options) {\n    var found;\n    var htmlTag = options.htmlTag || (typeof document !== 'undefined' ? document.documentElement : null);\n\n    if (htmlTag && typeof htmlTag.getAttribute === 'function') {\n      found = htmlTag.getAttribute('lang');\n    }\n\n    return found;\n  }\n};\n\nvar path = {\n  name: 'path',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.pathname.match(/\\/([a-zA-Z-]*)/g);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromPathIndex === 'number') {\n          if (typeof language[options.lookupFromPathIndex] !== 'string') {\n            return undefined;\n          }\n\n          found = language[options.lookupFromPathIndex].replace('/', '');\n        } else {\n          found = language[0].replace('/', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nvar subdomain = {\n  name: 'subdomain',\n  lookup: function lookup(options) {\n    var found;\n\n    if (typeof window !== 'undefined') {\n      var language = window.location.href.match(/(?:http[s]*\\:\\/\\/)*(.*?)\\.(?=[^\\/]*\\..{2,5})/gi);\n\n      if (language instanceof Array) {\n        if (typeof options.lookupFromSubdomainIndex === 'number') {\n          found = language[options.lookupFromSubdomainIndex].replace('http://', '').replace('https://', '').replace('.', '');\n        } else {\n          found = language[0].replace('http://', '').replace('https://', '').replace('.', '');\n        }\n      }\n    }\n\n    return found;\n  }\n};\n\nfunction getDefaults() {\n  return {\n    order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],\n    lookupQuerystring: 'lng',\n    lookupCookie: 'i18next',\n    lookupLocalStorage: 'i18nextLng',\n    // cache user language\n    caches: ['localStorage'],\n    excludeCacheFor: ['cimode'],\n    //cookieMinutes: 10,\n    //cookieDomain: 'myDomain'\n    checkWhitelist: true\n  };\n}\n\nvar Browser =\n/*#__PURE__*/\nfunction () {\n  function Browser(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Browser);\n\n    this.type = 'languageDetector';\n    this.detectors = {};\n    this.init(services, options);\n  }\n\n  _createClass(Browser, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var i18nOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = defaults(options, this.options || {}, getDefaults()); // backwards compatibility\n\n      if (this.options.lookupFromUrlIndex) this.options.lookupFromPathIndex = this.options.lookupFromUrlIndex;\n      this.i18nOptions = i18nOptions;\n      this.addDetector(cookie$1);\n      this.addDetector(querystring);\n      this.addDetector(localStorage);\n      this.addDetector(navigator$1);\n      this.addDetector(htmlTag);\n      this.addDetector(path);\n      this.addDetector(subdomain);\n    }\n  }, {\n    key: \"addDetector\",\n    value: function addDetector(detector) {\n      this.detectors[detector.name] = detector;\n    }\n  }, {\n    key: \"detect\",\n    value: function detect(detectionOrder) {\n      var _this = this;\n\n      if (!detectionOrder) detectionOrder = this.options.order;\n      var detected = [];\n      detectionOrder.forEach(function (detectorName) {\n        if (_this.detectors[detectorName]) {\n          var lookup = _this.detectors[detectorName].lookup(_this.options);\n\n          if (lookup && typeof lookup === 'string') lookup = [lookup];\n          if (lookup) detected = detected.concat(lookup);\n        }\n      });\n      var found;\n      detected.forEach(function (lng) {\n        if (found) return;\n\n        var cleanedLng = _this.services.languageUtils.formatLanguageCode(lng);\n\n        if (!_this.options.checkWhitelist || _this.services.languageUtils.isWhitelisted(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found) {\n        var fallbacks = this.i18nOptions.fallbackLng;\n        if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n        if (!fallbacks) fallbacks = [];\n\n        if (Object.prototype.toString.apply(fallbacks) === '[object Array]') {\n          found = fallbacks[0];\n        } else {\n          found = fallbacks[0] || fallbacks[\"default\"] && fallbacks[\"default\"][0];\n        }\n      }\n\n      return found;\n    }\n  }, {\n    key: \"cacheUserLanguage\",\n    value: function cacheUserLanguage(lng, caches) {\n      var _this2 = this;\n\n      if (!caches) caches = this.options.caches;\n      if (!caches) return;\n      if (this.options.excludeCacheFor && this.options.excludeCacheFor.indexOf(lng) > -1) return;\n      caches.forEach(function (cacheName) {\n        if (_this2.detectors[cacheName]) _this2.detectors[cacheName].cacheUserLanguage(lng, _this2.options);\n      });\n    }\n  }]);\n\n  return Browser;\n}();\n\nBrowser.type = 'languageDetector';\n\nexport default Browser;\n","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(Object(source));\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}"],"sourceRoot":""}